---
id: 1482
title: 交易系统的历史回测应该注意什么
date: 2014-08-19T05:11:19+00:00
author: 康健
layout: post
guid: http://kangjian.net/blog/?p=1482
permalink: /1482
posturl\_add\_url:
  - 'yes'
duoshuo\_thread\_id:
  - "1270239395296410884"
views:
  - "1777"
categories:
  - Trading
tags:
  - 交易系统
  - 历史回测
  - 稳健性
  - 过度优化
---
<img style="margin-left:auto;margin-right:auto" src="http://kangjian.net/images/2014/08/111918634.jpg" alt="交易系统的历史回测应该注意什么" border="0" width="380" height="300" />

交易系统必须能通过历史回测才可以投入使用。无法通过历史回测的交易系统不可能在实际交易中获利。历史回测是交易系统投入实盘的必要前置环节。能通过历史回测的交易系统不一定是好用的交易系统，但不能通过历史回测，则一定不是好用的交易系统。

一般地，回测交易系统，需要从稳健性（Robustness）分析的角度特别留意以下四点。

## 第一，历史回测的期间必须足够长。

一般来讲，对于国内的股票、商品，应该回测5年以上的数据，对于新上市的品种，至少也要回测3年。对于上市较早的品种或国际市场的黄金、美元指数等商品，则应至少回测一个牛熊周期，一般应该在10年&#8211;15年以上。回测的期间足够长久，回测的成绩才足够可靠。对于不能满足这个要求的品种，则应在开仓时将R值适当加权处理，主动降低风险暴露。

## 第二，分析回测成绩，应予以“断代”处理。

一个稳定、可靠的交易系统，在一定期间范围内，成绩应该相对稳定。仅靠一两波大行情拉高整体回测成绩的，会使使用者高估系统的价值。例如，回测上证指数时，如果仅仅将2005年&#8211;2007年的大牛市纳入总成绩，而没有逐年的回测数据，很可能会因为一次牛市而高估了一个本来绩效一般的系统。我的经验是，按年予以断代，分析各年的回测绩效。完全平均的回测成绩是不可能的，一个优秀的系统应该满足两个条件：单一年度不出现巨大亏损；各年整体稳定盈利，偶尔出现超额获利。

## 第三，回测系统后应该防止“过度优化”，尽量减少参数变量，防止“参数孤岛”。

过度优化（Curve Fitting，也可称为“曲线拟合”）是交易系统回测的最大敌人。一个交易系统应以简洁为上，少用参数变量。对于采取了变量参数的系统，最优参数附近的参数也应具备不错的绩效，形成“参数高原”。应防止过度优化后的“参数孤岛”。

## 第四，交易系统应经历多品种回测检验

一个可靠的交易系统应该具备普适性，不能仅仅适用于个别交易品种。只能用于一个品种的交易系统，往往是过度优化的产物。需要特别说明的是，不同品种间可以结合品种特性进行一些针对单一品种的微调。比如结合不同品种的ATR情况，根据日K线的振幅过滤一些非常态下的开仓信号等。这种根据具体品种采取的个性化调整不属于过度优化。
