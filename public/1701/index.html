<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Price Action,Van Tharp,Definitive Guide to Position Sizing," />





  <link rel="alternate" href="/blog/atom.xml" title="康健的网络日志" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.1.0" />






<meta name="description" content="(Photo By Teddy Kelley) Van Tharp 在 “Definitive Guide to Position Sizing” 中举了一个例子，说明了资金管理对防范黑天鹅事件的意义。原文出现在讲授风险回报比的内容中，讲得比较简单，有必要单独拿出来看一下。 这段原文如下：  You buy a stock at $60 and plan to get out if it drop">
<meta name="keywords" content="Price Action,Van Tharp,Definitive Guide to Position Sizing">
<meta property="og:type" content="article">
<meta property="og:title" content="两个标准，看看你是如何看待价格的？">
<meta property="og:url" content="http://kangjian.net/1701/index.html">
<meta property="og:site_name" content="康健的网络日志">
<meta property="og:description" content="(Photo By Teddy Kelley) Van Tharp 在 “Definitive Guide to Position Sizing” 中举了一个例子，说明了资金管理对防范黑天鹅事件的意义。原文出现在讲授风险回报比的内容中，讲得比较简单，有必要单独拿出来看一下。 这段原文如下：  You buy a stock at $60 and plan to get out if it drop">
<meta property="og:image" content="http://kangjian.net/images/2017/05/okavjrlgnjo-teddy-kelley.jpg">
<meta property="og:updated_time" content="2017-05-16T10:03:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="两个标准，看看你是如何看待价格的？">
<meta name="twitter:description" content="(Photo By Teddy Kelley) Van Tharp 在 “Definitive Guide to Position Sizing” 中举了一个例子，说明了资金管理对防范黑天鹅事件的意义。原文出现在讲授风险回报比的内容中，讲得比较简单，有必要单独拿出来看一下。 这段原文如下：  You buy a stock at $60 and plan to get out if it drop">
<meta name="twitter:image" content="http://kangjian.net/images/2017/05/okavjrlgnjo-teddy-kelley.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://kangjian.net/1701/"/>





  <title> 两个标准，看看你是如何看待价格的？ | 康健的网络日志 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-11710662-1', 'auto');
  ga('send', 'pageview');
</script>











  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">康健的网络日志</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/blog/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://kangjian.net/blog/1701/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="康健">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://kangjian.net/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="康健的网络日志">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                两个标准，看看你是如何看待价格的？
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-09T14:21:39+08:00">
                2017-05-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/Trading/" itemprop="url" rel="index">
                    <span itemprop="name">Trading</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/blog/1701/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="/1701/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://kangjian.net/images/2017/05/okavjrlgnjo-teddy-kelley.jpg" alt=""><br>(Photo By <a href="https://unsplash.com/@teddykelley" title="Teddy Kelley" target="_blank" rel="external">Teddy Kelley</a>)</p>
<p>Van Tharp 在 “Definitive Guide to Position Sizing” 中举了一个例子，说明了资金管理对防范黑天鹅事件的意义。原文出现在讲授风险回报比的内容中，讲得比较简单，有必要单独拿出来看一下。</p>
<p>这段原文如下：</p>
<blockquote>
<p>You buy a stock at $60 and plan to get out if it drops to $55. However, when it goes that low, you don’t sell. Instead, you just stop looking at it and hope it will go back up. It doesn’t. It becomes part of the headline business news involving corporate scandal and eventually the stock becomes worthless. What’s your loss as an R-multiple? By the way, this perfectly describes the situation with Enron, WorldCom, or any number of other companies that have gone bankrupt over the years. There were plenty of signs to get out of those stocks <strong>before</strong> any corporate scandal broke out.</p>
</blockquote>
<p>简单翻译一下：</p>
<blockquote>
<p>你在60美元的价位买入，计划在价格下跌到55美元的时候止损出场。但是，当价格到了55美元的时候，你不仅没有卖出，反而捂住了眼睛，希望价格自己涨回来。然而并没有。一桩头条新闻报道了公司的丑闻，最终股票变得一文不值。你的风险回报比是多少？顺便提一句，这种情形完美描述了安然事件、世通事件，还有这些年林林总总的因丑闻而倒下的公司。在这些公司的丑闻爆发之前，他们的股票往往会<strong>提前</strong>透露出大量的信号。</p>
</blockquote>
<p>为什么价格会提前透露基本面的信息呢？</p>
<p>首先，<strong>市场的价格是所有参与者价值观的综合反映。</strong>在一个成交量足够的品种上（某个商品合约、某个个股、某个货币对），价格就是市场的均衡，综合反映了当前市场的整体看法。反之，如果价格出现了反常的变化，不是因为别的，恰恰是市场的整体看法出现了反常的扭曲。市场中的一部分人对标的品种的看法变了，所以供需变了。这种变化之所以看起来“反常”，只不过是因为暂时还没有被大多数人理解。这个时候又可以分成两种情况来看：第一种情况，内幕人、聪明人先于市场知道了一些信息，供需短期失衡源于这些人，这些信息逐渐扩散，“反常”逐渐为普罗大宗所知悉。第二种情况，错误的信息引发了市场的恐慌，当错误被证伪，市场会自我纠正，价格也会迅速回归正常。因此，如果反常的价格变化没有被迅速纠正，也许就是有人已经“趁着天没亮抢先出发了”。所谓“反常”，就是指这个——除非都没下船，或者都没上车，有反常，多半是出现了先行者。</p>
<p>其次，<strong>绝对正确的价值观并不存在。</strong>天行有常，不为尧存，不为桀亡。市场运行有其自身的规律和形态，不会被任何力量所左右。每一个对反常信号视而不见的交易者，内心往往都预设了一个别样的标准。为什么视而不见，甚至闭上眼睛不愿看见呢？是因为价格运行的方向和这个标准不一致。说到底，这是个谁服从谁的问题——究竟是交易者的判断要服从于市场，还是市场的走势要服从于交易者个人呢？如果这么说，问题看起来很简单。真正困难的是，这个预设的标准往往深深地埋在了潜意识里。交易者要想把它挖出来晒一晒太阳，需要比较深的自省功夫。这是最大的难点。</p>
<p>那么，怎么办呢？用一大一小两个标准自我检验一下。需要加粗的是，<strong>这只是两个判断的标准，并不是什么标准答案</strong>——这就是一横一竖两个数轴，把人群划分为四个象限而已，谁也不比谁高尚——看完了两个问题拿不准的，没关系，可以暂时骑在数轴上休息。这都可以。</p>
<ul>
<li><p><strong>大的。你是否认同，没有什么能左右市场</strong>（<strong>“大命题”</strong>）？这个市场是个宏观的市场，不仅仅是某个交易所、某个地理区域，可以把它理解为整个世界，它包含政府、交易所、大庄家、小散户。你是否认同，没有任何一家机构、一个政府、一个团体、一间公司、一个个人，能够从根本上控制市场的运行？放在现在的背景，举个例子，比如北京的房价，如果说从市场的角度讲，<strong>超指数增长不可持续</strong>是市场的一个基本特征，你认为能否有一个机构、一个团体能够改变这个命题（超指数增长不可持续）呢？如果你认为有（某个主体能改变<strong>“大命题”</strong>），那么你就并不认同这个命题。如果认为没有（某个主体能改变<strong>“大命题”</strong>），那么你自然就认同这个命题。</p>
</li>
<li><p><strong>小的。你是否能做到，扔掉自己的预设观点，做一个没有立场的交易者。</strong>（<strong>“小命题”</strong>）？这个标准可以用逻辑解构一下。买盘卖盘的结合处，我们叫“成交价”。（变动的）价格意味着（变动的）均衡。价格的波动意味着均衡的变化。两次均衡的点位有差距，意味着有利润（当然，做反了就是亏损）。你能扔掉自己的观点，做一个没有立场的交易者，一心跟随市场吗？如果你始终坚持自己的观点，不止损，拿着头寸，等待市场验证自己的观点。这没错，这是一个方法。如果你能扔掉自己的观点，甚至压根就没有自己的观点，所有的入场依据都是基于价格的运动，自然需要<strong>市场走势去验证</strong>自己之前对于市场的<strong>猜测</strong>。对了就拿着，错了就止损。这也没错，是另一个思路。</p>
</li>
</ul>
<p>两个标准说完，每个象限都没错。如果两个标准都认同，答案都是Yes，再回过头看看 Van Tharp 的这句话：</p>
<blockquote>
<p>There were plenty of signs to get out of those stocks <strong>before</strong> any corporate scandal broke out.</p>
</blockquote>
<p>——应该会更好理解一些。</p>
<p><strong>P.S. 有必要再次强调的是，我并不是提倡技术分析原教旨主义。上述的两个标准划分出的四个象限，都是正确的。</strong></p>
<p>2016-12-20</p>

      
    </div>

    <div>
      
        
<div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="http://kangjian.net/images/qr.jpg" alt="康健 wechat" style="width: 200px; max-width: 100%;"/>
    <div>发表是最好的记忆，专注于内容</div>
</div>


      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/blog/tags/Price-Action/" rel="tag"># Price Action</a>
          
            <a href="/blog/tags/Van-Tharp/" rel="tag"># Van Tharp</a>
          
            <a href="/blog/tags/Definitive-Guide-to-Position-Sizing/" rel="tag"># Definitive Guide to Position Sizing</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog/1698/" rel="next" title="交易员的生存之道">
                <i class="fa fa-chevron-left"></i> 交易员的生存之道
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog/1702/" rel="prev" title="从零开始跑步的几个Tips">
                从零开始跑步的几个Tips <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://kangjian.net/images/avatar.jpeg"
               alt="康健" />
          <p class="site-author-name" itemprop="name">康健</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/blog/archives">
                <span class="site-state-item-count">225</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/blog/categories/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/blog/tags/index.html">
                <span class="site-state-item-count">688</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/blog/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2006 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">康健</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/blog/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/blog/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/blog/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/blog/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://kangsblog.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://kangjian.net/1701/';
          this.page.identifier = '/1701/';
          this.page.title = '两个标准，看看你是如何看待价格的？';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://kangsblog.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/blog/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

</body>
</html>
